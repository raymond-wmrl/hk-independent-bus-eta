(this["webpackJsonphk-independent-bus-eta"]=this["webpackJsonphk-independent-bus-eta"]||[]).push([[5],{316:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a(7),r=a(0),o=a.n(r),i=a(16),s=a(5),l=a(284),b=a(299),d=a(302),u=a(298),j=a(293),p=a(317),h=a(286),m=a(303),O=a.n(m),f=a(162),x=a(1),g=function(e){var t=e.k,a=e.handleClick,n=e.disabled,c=void 0!==n&&n,r=e.className,o=Object(f.a)().t;return Object(x.jsx)(j.a,{size:"large",variant:"contained",className:"".concat(k.button," ").concat(r),onClick:function(){return a(t)},disabled:c,disableRipple:!0,children:"b"===t?Object(x.jsx)(O.a,{}):"c"===t?Object(x.jsx)("div",{className:k.cancel,children:o("C")}):t})},v=function(){var e=Object(r.useContext)(i.b),t=e.searchRoute,a=e.updateSearchRouteByButton,n=e.possibleChar;return Object(x.jsx)(p.a,{container:!0,spacing:0,children:"789456123c0b".split("").map((function(e){return Object(x.jsx)(p.a,{item:!0,xs:4,children:Object(x.jsx)(g,{k:e,handleClick:a,className:k.number,disabled:"b"===e&&""===t||!"bc".includes(e)&&!n.includes(e)||"c"===e&&""===t})},"input-"+e)}))})},C=function(){var e=Object(r.useContext)(i.b),t=e.updateSearchRouteByButton,a=e.possibleChar;return Object(x.jsx)(p.a,{container:!0,spacing:1,children:a.filter((function(e){return isNaN(parseInt(e,10))})).map((function(e){return Object(x.jsx)(p.a,{item:!0,xs:12,children:Object(x.jsx)(g,{k:e,handleClick:t,className:k.alphabet})},"input-"+e)}))})},w=function(){return"prerendering"===navigator.userAgent?Object(x.jsx)(x.Fragment,{}):Object(x.jsxs)(T,{className:k.root,padding:0,children:[Object(x.jsx)(h.a,{className:k.numPadContainer,padding:0,children:Object(x.jsx)(v,{})}),Object(x.jsx)(h.a,{className:k.alphabetPadContainer,padding:0,children:Object(x.jsx)(C,{})})]})},N="inputpad",k={root:"".concat(N,"-boxContainer"),numPadContainer:"".concat(N,"-numPadContainer"),alphabetPadContainer:"".concat(N,"-alphabetPadContainer"),button:"".concat(N,"-button"),alphabet:"".concat(N,"-alphabet"),cancel:"".concat(N,"-cancel"),number:"".concat(N,"-number")},T=Object(s.a)(h.a)((function(e){var t,a=e.theme;return t={},Object(n.a)(t,"&.".concat(k.root),{display:"flex",flexDirection:"row",height:"208px",justifyContent:"space-around"}),Object(n.a)(t,"& .".concat(k.numPadContainer),{width:"60%"}),Object(n.a)(t,"& .".concat(k.alphabetPadContainer),{width:"20%",height:"206px",overflowX:"hidden",overflowY:"scroll"}),Object(n.a)(t,"& .".concat(k.button),{background:a.palette.background.paper,color:a.palette.text.primary,width:"100%",height:"44px",fontSize:"1.2em",borderRadius:"unset","&:selected":{color:a.palette.text.primary},"&:hover":{backgroundColor:a.palette.background.paper}}),Object(n.a)(t,"& .".concat(k.cancel),{fontSize:"0.8em"}),Object(n.a)(t,"& .".concat(k.alphabet),{height:"42px"}),Object(n.a)(t,"& .".concat(k.number),{height:"52px"}),t})),y=a(119),I=a(318),S=a(319),L=a(320),R=a(18),W=a(28),z=a(14),P=a(84),B=function(e){var t=e.route,a=Object(f.a)(),n=a.t,c=a.i18n;return Object(x.jsx)(y.a,{component:"h3",variant:"body1",className:F.routeInfo,children:Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:F.fromToWrapper,children:[Object(x.jsx)("span",{className:F.fromToText,children:"".concat(n("\u5f80")," ")}),Object(x.jsx)("b",{children:Object(z.g)(t.dest[c.language])})]}),Object(x.jsxs)("div",{className:F.fromWrapper,children:[Object(x.jsx)("span",{className:F.fromText,children:n("\u7531")}),Object(x.jsx)("span",{children:Object(z.g)(t.orig[c.language])})]})]})})},D=o.a.memo((function(e){var t=e.data,a=e.index,n=e.style,r=Object(f.a)(),o=r.t,i=r.i18n,s=t.routeList[a],l=s[0].split("-").slice(0,2),b=Object(c.a)(l,2),d=b[0],u=b[1],j=Object(R.g)();return Object(x.jsx)(W.b,{onClick:function(e){e.preventDefault(),Object(z.i)(1),setTimeout((function(){j.push("/".concat(i.language,"/route/").concat(s[0].toLowerCase()))}),0)},to:"/".concat(i.language,"/route/").concat(s[0].toLowerCase()),children:Object(x.jsx)(X,{className:F.card,variant:"outlined",style:n,square:!0,children:Object(x.jsx)(I.a,{children:Object(x.jsxs)(S.a,{className:F.cardContent,children:[Object(x.jsxs)("div",{className:F.busInfoContainer,children:[Object(x.jsxs)("div",{children:[Object(x.jsx)(P.a,{routeNo:d}),parseInt(u,10)>=2&&Object(x.jsx)(y.a,{variant:"caption",className:F.specialTrip,children:o("\u7279\u5225\u73ed")})]}),Object(x.jsx)(y.a,{component:"h4",variant:"caption",className:F.company,children:s[1].co.map((function(e){return o(e)})).join("+")})]}),Object(x.jsx)(B,{route:s[1]})]})})},s[0])})}),b.b),A="routeRow",F={card:"".concat(A,"-card"),cardContent:"".concat(A,"-cardContent"),busInfoContainer:"".concat(A,"-busInfoContainer"),routeInfo:"".concat(A,"-routeInfo"),company:"".concat(A,"-company"),fromToWrapper:"".concat(A,"-fromToWrapper"),fromToText:"".concat(A,"-fromToText"),fromWrapper:"".concat(A,"-fromWrapper"),fromText:"".concat(A,"-fromText"),specialTrip:"".concat(A,"-specialTrip")},X=Object(s.a)(L.a)((function(e){var t,a=e.theme;return t={},Object(n.a)(t,"&.".concat(F.card),{background:"dark"===a.palette.mode?a.palette.background.default:"white"}),Object(n.a)(t,"& .".concat(F.cardContent),{display:"flex",justifyContent:"flex-start",alignItems:"center",padding:"4px 16px"}),Object(n.a)(t,"& .".concat(F.busInfoContainer),{width:"25%"}),Object(n.a)(t,"& .".concat(F.routeInfo),{textAlign:"left",fontSize:"1rem",width:"75%"}),Object(n.a)(t,"& .".concat(F.company),{color:a.palette.text.secondary}),Object(n.a)(t,"& .".concat(F.fromToWrapper),{display:"flex",alignItems:"baseline",whiteSpace:"nowrap",overflowX:"hidden"}),Object(n.a)(t,"& .".concat(F.fromToText),{fontSize:"0.95rem",marginRight:a.spacing(.5)}),Object(n.a)(t,"& .".concat(F.fromWrapper),{display:"flex",alignItems:"baseline",whiteSpace:"nowrap",overflowX:"hidden",fontSize:"0.75rem"}),Object(n.a)(t,"& .".concat(F.fromText),{marginRight:a.spacing(.5)}),Object(n.a)(t,"& .".concat(F.specialTrip),{fontSize:"0.6rem",marginLeft:"8px"}),t})),q=a(112),J=Object(u.a)((function(e){return{routeList:e}})),Y=function(){var e=Object(r.useContext)(i.b),t=e.AppTitle,a=e.db,n=a.holidays,o=a.routeList,s=e.searchRoute,l=e.isRouteFilter,u=Object(q.a)(n,new Date),j=Object.entries(o).filter((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1],r=n.stops,o=n.co;return a.startsWith(s.toUpperCase())&&(null==r[o[0]]||r[o[0]].length>0)})).filter((function(e){var t=Object(c.a)(e,2),a=(t[0],t[1].freq);return!l||Object(q.b)(a,u)})),p=Object(f.a)(),h=p.t,m=p.i18n;Object(r.useEffect)((function(){Object(z.f)({title:h("\u641c\u5c0b")+" - "+h(t),description:h("route-board-page-description"),lang:m.language})}),[m.language]);var O=J(j);return"prerendering"===navigator.userAgent?Object(x.jsx)(G,{className:U.prerenderList,children:j.map((function(e,t){return Object(x.jsx)(D,{data:O,index:t,style:null},"route-".concat(t))}))}):Object(x.jsx)(H,{className:U.list,children:Object(x.jsx)(d.a,{children:function(e){var t=e.height,a=e.width;return Object(x.jsx)(b.a,{height:.98*t,itemCount:j.length,itemSize:56,width:a,itemData:O,className:U.root,children:D})}})})},E=(t.default=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Y,{}),Object(x.jsx)(w,{})]})},"routeBoard"),U={root:"".concat(E,"-root"),list:"".concat(E,"-list"),prerenderList:"".concat(E,"-prerenderList")},G=Object(s.a)("div")((function(e){e.theme;return Object(n.a)({},"&.".concat(U.prerenderList),{height:"100%",overflowY:"scroll","& a":{textDecoration:"none"}})})),H=Object(s.a)(l.a)((function(e){var t,a=e.theme;return t={},Object(n.a)(t,"&.".concat(U.root),{background:"dark"===a.palette.mode?a.palette.background.default:"white"}),Object(n.a)(t,"&.".concat(U.list),{flex:"1 1 auto"}),t}))}}]);